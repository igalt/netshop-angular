<div class="row">
    <div class="container-fluid mt-5 pt-2 pb-2 border cart">
        <h2>
            <i class="fas fa-shopping-cart"></i>
            Your cart
        </h2>
        <div class="underline mb-3"></div>
        <ul class="mt-3" id="cartProductsList">
            <li *ngFor="let product of cart.products">
                <div>
                    <img class="thumbnail mr-1" [src]="'assets/' + product?.imageURL">
                    {{product.name}} {{product.price | currency}}
                </div>
                <div>
                    <button (click)="removeFromCart(product)" class="btn btn-sm btn-danger">
                        <i class="fas fa-trash" aria-hidden="true"></i>
                    </button>
                </div>
            </li> 
        </ul>
        <div *ngIf="cart" class="mt-5">  
            <strong>Total: </strong> {{cart.totalPrice | currency}}
        </div>
        <div *ngIf="customer" class="mt-1">  
            <strong>Your Balance: </strong> {{customer.balance | currency}}
        </div>
        
        <div class="mt-4">
            <button (click)="openCheckout()" class="btn btn-primary checkout" data-toggle="modal" data-target="#modCheckout"><i class="fas fa-cart-plus" aria-hidden="true"></i> Checkout </button>
        </div>
        
        <div *ngIf="showCheckout" class="mt-4">
            <h4>Checkout cart</h4>
            <div class="underline mb-3"></div>
            <span id="checkoutSummary"></span>
            <form class="mt-2">
                <div class="form-group">
                    <label for="txtEmail">Email Address:</label>
                    <input [(ngModel)]="email" id="txtEmail" name="txtEmail" type="text" class="form-control">
                </div>
                <div class="form-group">
                    <label for="ddlCountry">Shipping Country:</label>
                    <select [(ngModel)]="shippingCountry" id="ddlCountry" name="ddlCountry" class="form-control">
                        <option value="Israel">Israel</option>
                        <option value="France">France</option>
                        <option value="Germany">Germany</option>
                    </select>
                </div>
                <button type="button" class="btn btn-primary mt-2" (click)="checkout()"><i class="fas fa-cart-plus" aria-hidden="true"></i> Continue</button>
                <div *ngIf="checkoutError" class="text-danger">
                    <em>Checkout failed</em>
                </div>
                <div *ngIf="checkoutSuccess" class="text-success">
                    <strong>Your order is on it's way!</strong>
                </div>
            </form>
        </div>
    </div>
</div>
            
